(window["webpackJsonpadform-campaign"]=window["webpackJsonpadform-campaign"]||[]).push([[0],{23:function(e,t,a){e.exports=a(40)},28:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(8),i=a.n(s),c=(a(28),a(2)),o=a(15),l=a(16),u=a(21),d=a(17),p=a(22),m=a(1),f=a.n(m),g=a(7),h=(a(34),a(4)),D=a(9),E=(a(35),function(e){return function(t){var a=t.isCampaignLoading,n=Object(D.a)(t,["isCampaignLoading"]);return a?r.a.createElement("div",{className:"SpinnerOverlay"},r.a.createElement("div",{className:"SpinnerContainer"})):r.a.createElement(e,n)}}),b=(a(36),function(e){var t=e.campaigns,a=e.userMap;return a&&r.a.createElement("div",{className:"container-fluid",style:{marginTop:10}},r.a.createElement("div",{className:"table-row header"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"table-col"},"Name"),r.a.createElement("div",{className:"table-col"},"User Name"),r.a.createElement("div",{className:"table-col"},"Start Date"),r.a.createElement("div",{className:"table-col"},"End Date"),r.a.createElement("div",{className:"table-col"},"Active"),r.a.createElement("div",{className:"table-col"},"Budget"))),t.map(function(e){return r.a.createElement("div",{key:e.id,className:"table-row"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"table-col"},e.name),r.a.createElement("div",{className:"table-col"},a[e.userId]?a[e.userId]:"Unknown user"),r.a.createElement("div",{className:"table-col"},e.startDate),r.a.createElement("div",{className:"table-col"},e.endDate),r.a.createElement("div",{className:"table-col"},f()(new Date).isBetween(e.startDate,e.endDate)?r.a.createElement("span",{className:"active"},"Active"):r.a.createElement("span",{className:"inactive"},"InActive")),r.a.createElement("div",{className:"table-col"},(t=e.Budget,Math.abs(t)>999999?Math.sign(t)*(Math.abs(t)/1e6).toFixed(1)+"M USD":Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(1)+"k USD":Math.sign(t)*Math.abs(t)+" USD"))));var t}))}),v=Object(h.d)(Object(g.b)(function(e){return{isCampaignLoading:e.users.isCampaignLoading}}),E)(b),y=(a(37),function(e){return r.a.createElement("input",{className:"search-box",type:"search",placeholder:"Search by name",onChange:e.onSearchChange})}),O=(a(38),function(e){var t=e.handleChange,a=e.label,n=e.isvalid,s=Object(D.a)(e,["handleChange","label","isvalid"]);return r.a.createElement("div",{className:"group"},a?r.a.createElement("label",{className:"".concat(s.value.length?"shrink":""," form-input-label")},a):null,r.a.createElement("input",Object.assign({className:"form-input ".concat("true"===n?"":"has-error"),onChange:t},s)))}),C={FETCH_USERS_START:"FETCH_USERS_START",FETCH_USERS_SUCCESS:"FETCH_USERS_SUCCESS",FETCH_USERS_FAILURE:"FETCH_USERS_FAILURE",FILTER_CAMPAIGNS:"FILTER_CAMPAIGNS",ADD_CAMPAIGN:"ADD_CAMPAIGN",FILTER_CAMPAIGNS_BY_DATE:"FILTER_CAMPAINGS_BY_DATE",ADD_CAMPAIGN_ERROR:"ADD_CAMPAIGN_ERROR"},S=function(){return function(e){e({type:C.FETCH_USERS_START});try{fetch("https://jsonplaceholder.typicode.com/users").then(function(e){return e.json()}).then(function(t){var a=t.reduce(function(e,t){return Object.assign(e,Object(c.a)({},t.id,t.username))},{});e(function(e){return{type:C.FETCH_USERS_SUCCESS,payload:e}}(a))})}catch(a){e((t=a.message,{type:C.FETCH_USERS_FAILURE,payload:t}))}var t}};function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(a,!0).forEach(function(t){Object(c.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var I=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).filters={},a.handleChange=function(e){var t=e.target,n=t.value,r=t.name;""!==a.state.dateInput.startDate&&f()(n).isBefore(f()(a.state.dateInput.startDate))?a.setState({endDateValid:"false"}):(a.setState({endDateValid:"true"}),a.setState({dateInput:j({},a.state.dateInput,Object(c.a)({},r,n))}),a.filters[r]=n,a.props.filterCampaigns(a.filters))},a.onSearchChange=function(e){a.setState({searchField:e.target.value});var t=a.props.filterCampaigns;a.filters.searchText=e.target.value,t(a.filters)},a.state={searchField:"",endDateValid:"true",startDateValid:"true",dateInput:{startDate:"",endDate:""}},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this;window.AddCampaigns=function(t,a,n,r,s,i){f()(n).isAfter(f()(r))?e.props.addCampaignError():e.props.addCampaign({id:t,name:a,startDate:f()(n).format("MM/DD/YYYY"),endDate:f()(r).format("MM/DD/YYYY"),Budget:s,userId:i})}}},{key:"componentDidMount",value:function(){(0,this.props.fetchUsersStartAsync)()}},{key:"render",value:function(){console.log("app.js props: ",this.props);var e=this.props,t=e.campaigns,a=e.users,n=this.state.dateInput,s=n.startDate,i=n.endDate,c=this.state,o=c.endDateValid,l=c.startDateValid;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-header"},r.a.createElement("h2",null," Filter Campaigns "),r.a.createElement(O,{name:"startDate",type:"date",handleChange:this.handleChange,value:s,label:"Start Date",placeholder:"Start Date",isvalid:l}),r.a.createElement(O,{name:"endDate",type:"date",handleChange:this.handleChange,value:i,label:"End Date",placeholder:"End Date",isvalid:o}),r.a.createElement(y,{onSearchChange:this.onSearchChange})),t.error?r.a.createElement("span",null,t.error):r.a.createElement(v,{campaigns:t.filteredCampaigns,userMap:a.users}))}}]),t}(n.Component),_=Object(g.b)(function(e){return{campaigns:e.campaigns,users:e.users}},function(e){return{fetchUsersStartAsync:function(){return e(S())},filterCampaigns:function(t){return e(function(e){return{type:C.FILTER_CAMPAIGNS,payload:e}}(t))},addCampaign:function(t){return e(function(e){return{type:C.ADD_CAMPAIGN,payload:e}}(t))},addCampaignError:function(){return e({type:C.ADD_CAMPAIGN_ERROR,payload:"Dates are invalid !!"})}}})(I);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(39);var w=a(19);function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(a,!0).forEach(function(t){Object(c.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var R={users:null,error:null,isCampaignLoading:!0},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.FETCH_USERS_SUCCESS:return P({},e,{users:t.payload,isCampaignLoading:!1,error:null});case C.FETCH_USERS_FAILURE:return P({},e,{users:null,isCampaignLoading:!1,error:t.payload});default:return e}},T=[{id:1,name:"Divavu",startDate:"9/19/2019",endDate:"3/9/2020",Budget:88377,"userId ":3},{id:2,name:"Jaxspan",startDate:"11/21/2019",endDate:"2/21/2020",Budget:608715,userId:6},{id:3,name:"Miboo",startDate:"11/1/2019",endDate:"6/20/2019",Budget:239507,"userId ":7},{id:4,name:"Trilith",startDate:"8/25/2019",endDate:"11/30/2019",Budget:179838,userId:1},{id:5,name:"Layo",startDate:"11/28/2019",endDate:"3/10/2020",Budget:837850,"userId ":9},{id:6,name:"Photojam",startDate:"7/25/2019",endDate:"6/23/2019",Budget:858131,userId:3},{id:7,name:"Blogtag",startDate:"6/27/2019",endDate:"1/15/2020",Budget:109078,"userId ":2},{id:8,name:"Rhyzio",startDate:"10/13/2019",endDate:"1/25/2020",Budget:272552,"userId ":4},{id:9,name:"Zoomcast",startDate:"9/6/2019",endDate:"11/10/2019",Budget:1e3,userId:8},{id:10,name:"Realbridge",startDate:"3/5/2020",endDate:"10/2/2019",Budget:5056022,userId:5}],F=a(20),U=function(e,t){var a=t;return Object.keys(e).forEach(function(t){if(console.log(t,e[t]),"searchText"===t)a=a.filter(function(a){return a.name.toLowerCase().includes(e[t].toLowerCase())});else if("startDate"===t){var n=f()(e[t]);n.isValid()&&(a=a.filter(function(e){return f()(e.startDate).isAfter(n)}))}else if("endDate"===t){var r=f()(e[t]);r.isValid()&&(a=a.filter(function(e){return f()(e.endDate).isBefore(r)}))}}),a},B=function(e,t){return[].concat(Object(F.a)(t),[e])};function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach(function(t){Object(c.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var G={campaigns:T,filteredCampaigns:T,error:null},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.FILTER_CAMPAIGNS:return k({},e,{filteredCampaigns:U(t.payload,e.campaigns),error:null});case C.ADD_CAMPAIGN:return k({},e,{campaigns:B(t.payload,e.campaigns),filteredCampaigns:B(t.payload,e.campaigns),error:null});case C.ADD_CAMPAIGN_ERROR:return k({},e,{error:t.payload});default:return e}},Y=Object(h.c)({users:M,campaigns:H}),V=[w.a];var x=Object(h.e)(Y,h.a.apply(void 0,V));i.a.render(r.a.createElement(g.a,{store:x},r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.e712ca82.chunk.js.map